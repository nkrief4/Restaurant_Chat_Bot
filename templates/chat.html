<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RestauBot | Chatbot du restaurant</title>
  <meta name="description" content="Dialogue en direct avec l'assistant IA RestauBot de votre restaurant." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap"
    rel="stylesheet" />
  <link rel="stylesheet" href="/static/css/dashboard.css" />
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>
  <script src="/static/js/supabaseClient.js" defer></script>
  <script type="module" src="/static/js/chat.js"></script>
</head>

<body class="chat-experience client-view">
  <div id="chat-loading-overlay" class="chat-loading-overlay" role="status" aria-live="polite">
    <div class="chat-loading-spinner" aria-hidden="true"></div>
    <p>Chargement de l'expérience RestauBot…</p>
  </div>

  <header class="chat-hero">
    <div class="chat-hero-inner">
      <div class="client-branding">
        <div class="client-brand-mark">RestauBot</div>
        <h1 id="chat-restaurant-name">Restaurant</h1>
      </div>
    </div>
  </header>

  <main class="chat-stage" aria-label="Démo client RestauBot">
    <section class="chat-panel" aria-label="Conversation avec le chatbot">
      <div class="chat-panel-header">
        <div>
          <p class="status-label">Chatbot en ligne</p>
          <div id="chat-status" class="chat-status">
            <span class="status-dot"></span>
            <span>Connecté</span>
          </div>
        </div>
        <div class="session-chip" aria-hidden="true">Sécurisé SSL</div>
      </div>
      <div class="chat-body chatbot-surface">
        <div id="chat-messages" class="chatbot-thread chat-messages" aria-live="polite"
          aria-label="Historique des messages"></div>
        <div id="chat-empty-state" class="chatbot-empty chat-empty">
          <p>Chatbot connecté à <span class="restaurant-name" id="chat-restaurant-display">votre restaurant</span></p>
        </div>
        <div id="typing-indicator" class="chatbot-typing typing-indicator" role="status" aria-live="polite" hidden>
          <span class="typing-dot"></span>
          <span class="typing-dot"></span>
          <span class="typing-dot"></span>
        </div>
      </div>
      <form id="chat-form" class="chatbot-form chat-input-area" autocomplete="off">
        <label for="chat-input" class="sr-only">Votre message</label>
        <textarea id="chat-input" name="message" placeholder="Posez votre question…" rows="1" autocomplete="off"
          required></textarea>
        <div class="chat-input-actions">
          <button type="submit" id="chat-send" class="chat-btn primary">Envoyer</button>
        </div>
      </form>
      <p id="chat-feedback" class="chatbot-feedback" role="status" aria-live="polite"></p>
    </section>

    <aside class="menu-panel" aria-label="Carte numérique du restaurant">
      <div class="menu-panel-header">
        <div>
          <p class="status-label">Carte synchronisée</p>
          <h2>Carte du restaurant</h2>
        </div>
        <div class="menu-panel-meta">
          <span id="menu-updated-at" class="menu-badge">Mise à jour en temps réel</span>
        </div>
      </div>
      <div id="menu-scroll" class="menu-scroll" tabindex="0">
        <div id="menu-empty-state" class="menu-empty">
          <h3>Carte indisponible</h3>
          <p>La carte n'est pas disponible pour le moment. Merci de demander à l'équipe en salle.</p>
        </div>
        <div id="menu-sections" class="menu-sections" hidden></div>
      </div>
    </aside>
  </main>

  <footer class="chat-client-footer">
    <p>Propulsé par <a href="/" rel="home">RestauBot</a> — Assistance digitale pour restaurants.</p>
  </footer>
</body>

</html>